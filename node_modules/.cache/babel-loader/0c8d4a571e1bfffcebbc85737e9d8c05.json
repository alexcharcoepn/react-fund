{"ast":null,"code":"import _regeneratorRuntime from\"/home/alexander/Desktop/github/React/react-fund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alexander/Desktop/github/React/react-fund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/alexander/Desktop/github/React/react-fund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import\"../App.css\";import Filter from'./Filter';import ListItem from'./ListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var URL=\"https://api.themoviedb.org/3/discover/movie?api_key=40c432e4dea1ea50718a0416a2bf27cf&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\";var confURL=\"https://api.themoviedb.org/3/configuration?api_key=40c432e4dea1ea50718a0416a2bf27cf\";function Loop(_ref){var data=_ref.data;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),config=_useState6[0],setConfig=_useState6[1];var ulRef=useRef(null);var getMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,mov;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(URL);case 3:res=_context.sent;_context.next=6;return res.json();case 6:mov=_context.sent;setMovies(mov.results);console.log(mov.results,movies);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getMovies(){return _ref2.apply(this,arguments);};}();var getConfig=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,con;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(confURL);case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:con=_context2.sent;setConfig(con);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function getConfig(){return _ref3.apply(this,arguments);};}();//IN this case, every single time a render gets update -> effect's fired\n//we can tell useEffect, when to run\nuseEffect(function(){getMovies();},[]);useEffect(function(){getConfig();},[]);//this array is the efect dependency, tell when to run\n//As empty, it will run only at first render\n//usinf ',[filter]', will run when filter is updated    \nreturn/*#__PURE__*/_jsxs(\"div\",{ref:ulRef,children:[/*#__PURE__*/_jsx(Filter,{filter:filter,setFilter:setFilter}),/*#__PURE__*/_jsx(\"ul\",{className:\"movies-list\",children://Filtering with input, for each time array filter a contins, those\n//will pass to the map function\nmovies.filter(function(item){return item.title.toLowerCase().includes(filter.toLowerCase());}).map(function(item){return/*#__PURE__*/_jsx(ListItem,{id:item.id,title:item.title,config:config,poster_path:item.poster_path});//     return(  <li key={item}>{item}</li>)\n})})]});}export default Loop;//RE-RENDER A COMPONENT\n//a state change, a props change\n//useEffect(): trigger side effects,","map":{"version":3,"sources":["/home/alexander/Desktop/github/React/react-fund/src/Components/Loop.js"],"names":["React","useState","useRef","useEffect","Filter","ListItem","URL","confURL","Loop","data","filter","setFilter","movies","setMovies","config","setConfig","ulRef","getMovies","fetch","res","json","mov","results","console","log","error","getConfig","con","item","title","toLowerCase","includes","map","id","poster_path"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,MAAvB,CAA8BC,SAA9B,KAA8C,OAA9C,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAC,4KAAV,CACA,GAAMC,CAAAA,OAAO,CAAC,qFAAd,CAGA,QAASC,CAAAA,IAAT,MAAsB,IAAPC,CAAAA,IAAO,MAAPA,IAAO,eAEOR,QAAQ,CAAC,EAAD,CAFf,wCAEXS,MAFW,eAEJC,SAFI,8BAGOV,QAAQ,CAAC,EAAD,CAHf,yCAGXW,MAHW,eAGJC,SAHI,8BAIOZ,QAAQ,CAAC,EAAD,CAJf,yCAIXa,MAJW,eAIJC,SAJI,eAMlB,GAAMC,CAAAA,KAAK,CAACd,MAAM,CAAC,IAAD,CAAlB,CAEA,GAAMe,CAAAA,SAAS,2FAAC,qLAESC,CAAAA,KAAK,CAACZ,GAAD,CAFd,QAEFa,GAFE,qCAGQA,CAAAA,GAAG,CAACC,IAAJ,EAHR,QAGFC,GAHE,eAIRR,SAAS,CAACQ,GAAG,CAACC,OAAL,CAAT,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,OAAhB,CAAwBV,MAAxB,EALQ,iFAORW,OAAO,CAACE,KAAR,cAPQ,qEAAD,kBAATR,CAAAA,SAAS,2CAAf,CAWA,GAAMS,CAAAA,SAAS,2FAAC,4LAESR,CAAAA,KAAK,CAACX,OAAD,CAFd,QAEFY,GAFE,uCAGQA,CAAAA,GAAG,CAACC,IAAJ,EAHR,QAGFO,GAHE,gBAIRZ,SAAS,CAACY,GAAD,CAAT,CAJQ,qFAMRJ,OAAO,CAACE,KAAR,eANQ,uEAAD,kBAATC,CAAAA,SAAS,2CAAf,CAUA;AACA;AAEAvB,SAAS,CAAC,UAAI,CACVc,SAAS,GACZ,CAFQ,CAEP,EAFO,CAAT,CAIAd,SAAS,CAAC,UAAI,CACVuB,SAAS,GACZ,CAFQ,CAEP,EAFO,CAAT,CAIA;AACA;AACA;AAEA,mBACI,aAAK,GAAG,CAAEV,KAAV,wBAEC,KAAC,MAAD,EAAQ,MAAM,CAAEN,MAAhB,CAAwB,SAAS,CAAEC,SAAnC,EAFD,cAGI,WAAI,SAAS,CAAE,aAAf,UAEI;AACA;AACAC,MAAM,CAACF,MAAP,CAAc,SAACkB,IAAD,CAAQ,CAClB,MAAOA,CAAAA,IAAI,CAACC,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCrB,MAAM,CAACoB,WAAP,EAAlC,CAAP,CACH,CAFD,EAEGE,GAFH,CAEO,SAACJ,IAAD,CAAQ,CACZ,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAEA,IAAI,CAACK,EAAnB,CAAuB,KAAK,CAAEL,IAAI,CAACC,KAAnC,CAA0C,MAAM,CAAEf,MAAlD,CAA0D,WAAW,CAAEc,IAAI,CAACM,WAA5E,EAAR,CACL;AACG,CALD,CAJJ,EAHJ,GADJ,CAkBH,CAED,cAAe1B,CAAAA,IAAf,CAGA;AACA;AAEA","sourcesContent":["import React,{useState,useRef,useEffect} from 'react'\nimport \"../App.css\"\nimport Filter from './Filter'\nimport ListItem from './ListItem'\n\nconst URL=\"https://api.themoviedb.org/3/discover/movie?api_key=40c432e4dea1ea50718a0416a2bf27cf&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\"\nconst confURL=\"https://api.themoviedb.org/3/configuration?api_key=40c432e4dea1ea50718a0416a2bf27cf\"\n    \n\nfunction Loop({data}) {\n    \n    const [filter,setFilter]=useState(\"\")\n    const [movies,setMovies]=useState([])\n    const [config,setConfig]=useState({})\n\n    const ulRef=useRef(null)\n\n    const getMovies=async()=>{\n        try{\n            const res= await fetch(URL)\n            const mov=await res.json()\n            setMovies(mov.results)\n            console.log(mov.results,movies)\n        }catch (e){\n            console.error(e)\n        }\n    }\n\n    const getConfig=async()=>{\n        try{\n            const res= await fetch(confURL)\n            const con=await res.json()\n            setConfig(con)\n        }catch (e){\n            console.error(e)\n        }\n    }\n\n    //IN this case, every single time a render gets update -> effect's fired\n    //we can tell useEffect, when to run\n     \n    useEffect(()=>{\n        getMovies();\n    },[]);\n\n    useEffect(()=>{\n        getConfig();\n    },[])\n\n    //this array is the efect dependency, tell when to run\n    //As empty, it will run only at first render\n    //usinf ',[filter]', will run when filter is updated    \n\n    return (\n        <div ref={ulRef}> \n         \n         <Filter filter={filter} setFilter={setFilter}/>\n            <ul className={\"movies-list\"}>\n            {\n                //Filtering with input, for each time array filter a contins, those\n                //will pass to the map function\n                movies.filter((item)=>{\n                    return item.title.toLowerCase().includes(filter.toLowerCase())\n                }).map((item)=>{\n                   return( <ListItem id={item.id} title={item.title} config={config} poster_path={item.poster_path}/>)\n              //     return(  <li key={item}>{item}</li>)\n                })\n            }\n            </ul>\n        </div>\n    )\n}\n\nexport default Loop\n\n\n//RE-RENDER A COMPONENT\n//a state change, a props change\n\n//useEffect(): trigger side effects,"]},"metadata":{},"sourceType":"module"}